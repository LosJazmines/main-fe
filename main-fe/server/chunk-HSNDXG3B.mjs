import './polyfills.server.mjs';
import{a as J}from"./chunk-WEHTAEOG.mjs";import{a as He}from"./chunk-BAXATTKJ.mjs";import{a as $e}from"./chunk-5N5AT2PO.mjs";import"./chunk-H7YUPPG3.mjs";import{a as Be,b as qe}from"./chunk-FPYPD3IL.mjs";import{a as Q}from"./chunk-WOH52GB3.mjs";import{a as W}from"./chunk-L3H3J3KU.mjs";import{a as Ue}from"./chunk-UYWXFIFU.mjs";import{l as Le}from"./chunk-TTTSTSGJ.mjs";import{a as Ge}from"./chunk-MVTQIEKU.mjs";import{D as Ve,E as Me,J as G,K as B,L as Ae,P as De,X as je,Y as Ne,Z as Oe,b as R,d as z,e as Fe,ea as Re,fa as q,g as Ee,ga as ze,h as Se,i as L,ia as $,ja as H,l as Te,la as M,m as ke,r as Ie,s as U,t as V}from"./chunk-5ITMT7SL.mjs";import{la as ye,ma as Ce,na as we}from"./chunk-3M2R4VPM.mjs";import{k as Pe}from"./chunk-D4P4B6JA.mjs";import"./chunk-5TOM3SNX.mjs";import{m as _e,n as O,o as xe,q as he,r as ve,u as be,w as I}from"./chunk-DR63K3YT.mjs";import{Ac as S,Bb as D,Cc as re,Da as f,Dc as ge,Ea as _,Gc as fe,Hb as x,Hc as j,Jb as m,Ob as F,Pb as le,Rb as se,Sb as ce,Tb as r,Ub as n,Vb as d,Wb as C,Xb as w,Yb as de,Zb as v,cc as p,ec as c,ib as A,kc as ue,la as ae,lc as me,mc as pe,nc as E,o as oe,ob as s,oc as l,pb as b,pc as Z,qc as P,rc as ee,sa as T,tc as te,uc as ie,vc as ne,xc as k}from"./chunk-XTO3CEGG.mjs";import{a as N}from"./chunk-VVCT4QZE.mjs";function tt(o,u){o&1&&d(0,"app-loader")}function it(o,u){if(o&1){let e=v();r(0,"div",13)(1,"div",14),d(2,"img",15),r(3,"input",16),p("change",function(i){f(e);let a=c(2);return _(a.onImageUpload(i))}),n(),r(4,"div",17),d(5,"lucide-icon",18),n()()()}if(o&2){let e=u.$implicit;c(2);let t=E(10);s(2),m("src",e.url,A),s(2),m("matMenuTriggerFor",t)}}function nt(o,u){if(o&1){let e=v();r(0,"div",13)(1,"div",14)(2,"div",19),d(3,"lucide-icon",20),r(4,"p",21),l(5," \xA1Agrega una imagen para destacar tu producto! "),n()(),r(6,"input",16),p("change",function(i){f(e);let a=c(2);return _(a.onImageUpload(i))}),n()()()}}function rt(o,u){if(o&1&&se(0,it,6,2,"div",13,le,!1,nt,7,0,"div",13),o&2){let e=c();ce(e.gallerys())}}var Je=(()=>{class o{constructor(e,t,i,a){this.dialogRef=e,this.data=t,this._productsService=i,this._messageService=a,this.gallerys=D([]),this.isLoading=D(!1),this.dialogRef.backdropClick().subscribe(()=>{this.closeImageEditor()})}ngOnInit(){this.getGalleryImages()}getGalleryImages(){this.data?.product?.images&&this.gallerys.set(this.data.product.images)}closeImageEditor(){this.dialogRef.close(this.gallerys())}onImageUpload(e){let t=e.target;if(t.files&&t.files.length>0){let i=t.files[0],a=new FileReader;a.onload=()=>{let g=a.result,h={id:Date.now().toString(),url:g};this.gallerys.update(y=>[...y,h])},a.readAsDataURL(i),t.value=""}}deleteImage(e){if(!this.data?.product?.id){this._messageService.showError("No se pudo obtener el ID del producto","bottom right",5e3);return}this.isLoading.set(!0),this._productsService.deleteImage(this.data.product.id,e).subscribe({next:t=>{this.gallerys.update(i=>i.filter(a=>a.id!==e)),this._messageService.showInfo("Imagen eliminada correctamente","top center",5e3),this.isLoading.set(!1)},error:t=>{console.error("Error al eliminar la imagen:",t),this._messageService.showError("Error al eliminar la imagen","bottom right",5e3),this.isLoading.set(!1)}})}openImageEditor(){}trackByFn(e,t){return t.id}static{this.\u0275fac=function(t){return new(t||o)(b(G),b(B),b(Q),b(W))}}static{this.\u0275cmp=T({type:o,selectors:[["app-edit-gallery"]],standalone:!0,features:[k],decls:21,vars:1,consts:[["menu","matMenu"],[1,"min-w-[400px]","min-h-[320px]","w-full","h-full","flex","flex-col","rounded-[4px]","bg-gray-100","overflow-auto"],[1,"relative","w-full","h-14","flex","items-center","justify-center","p-4"],[1,"!text-xl","md:!text-2xl","!font-playfair","text-[#3a5a40]","!m-0"],[1,"cursor-pointer","absolute","z-10","top-2","right-2","w-8","h-8","flex","items-center","justify-center","bg-[#3a5a40]/50","hover:shadow-white","hover:bg-[#3a5a40]/80","rounded-full",3,"click"],["name","x",1,"w-4","h-4","text-white"],[1,"w-full","h-full","flex","flex-col","md:flex-row","items-center","justify-center","gap-2","px-8","pb-8","pt-4","overflow-auto"],["xPosition","before",1,"!bg-[#3a5a40]/90","!text-white","mt-2"],["mat-menu-item","",3,"click"],[1,"flex","gap-2","items-center","!text-white"],["size","16","name","trash-2"],["mat-menu-item",""],["name","download","size","16"],[1,"w-[192px]","h-[341px]","flex","flex-col","items-center","relative"],[1,"w-[192px]","h-[341px]","border","border-[#3a5a40]/50","rounded","overflow-hidden"],[1,"w-full","h-full","object-cover",3,"src"],["matTooltip","clickear para Agregar Imagen","matTooltipClass","!text-[#3a5a40] !bg-[#3a5a40]/50","type","file","accept","image/*",1,"absolute","inset-0","opacity-0","cursor-pointer",3,"change"],[1,"cursor-pointer","absolute","z-10","top-2","right-2","w-8","h-8","flex","items-center","justify-center","bg-[#3a5a40]/50","hover:shadow-white","hover:bg-[#3a5a40]/80","rounded-full",3,"matMenuTriggerFor"],["name","ellipsis-vertical",1,"w-4","h-4","text-white"],[1,"w-full","h-full","flex","flex-col","justify-center","items-center"],["name","image",1,"w-6","h-6","mb-4","text-[#3a5a40]"],[1,"text-[#3a5a40]","text-center"]],template:function(t,i){if(t&1){let a=v();r(0,"div",1)(1,"div",2)(2,"h2",3),l(3," Editar Galeria "),n(),r(4,"div",4),p("click",function(){return f(a),_(i.closeImageEditor())}),d(5,"lucide-icon",5),n()(),r(6,"div",6),x(7,tt,1,0,"app-loader")(8,rt,3,1),n()(),r(9,"mat-menu",7,0)(11,"button",8),p("click",function(){return f(a),_(i.deleteImage(i.gallerys()[0].id))}),r(12,"div",9),d(13,"lucide-icon",10),r(14,"span"),l(15,"Eliminar"),n()()(),r(16,"button",11)(17,"div",9),d(18,"lucide-icon",12),r(19,"span"),l(20,"Descargar"),n()()()()}t&2&&(s(7),F(7,i.isLoading()?7:8))},dependencies:[I,$,Ne,je,Oe,q,M,H,V,J]})}}return o})();var Y=[{uuid:"...",slug:"flores",name:"Flores",value:"flores"},{uuid:"...",slug:"ramos-y-bouquets",name:"Ramos y Bouquets",value:"ramos_y_bouquets"},{uuid:"...",slug:"plantas",name:"Plantas",value:"plantas"},{uuid:"...",slug:"macetas",name:"Macetas",value:"macetas"},{uuid:"...",slug:"fertilizantes",name:"Fertilizantes",value:"fertilizantes"},{uuid:"...",slug:"herramientas",name:"Herramientas",value:"herramientas"},{uuid:"...",slug:"decoracion",name:"Decoraci\xF3n",value:"decoracion"},{uuid:"...",slug:"chocolates",name:"Chocolates",value:"chocolates"},{uuid:"...",slug:"peluches",name:"Peluches",value:"peluches"},{uuid:"...",slug:"cajas-de-regalo",name:"Cajas de Regalo",value:"cajas_de_regalo"},{uuid:"...",slug:"eventos-y-festividades",name:"Eventos y Festividades",value:"eventos_y_festividades"},{uuid:"...",slug:"bautismo",name:"Bautismo",value:"bautismo"},{uuid:"...",slug:"nacimiento",name:"Nacimiento",value:"nacimiento"},{uuid:"...",slug:"novia",name:"Novia",value:"novia"},{uuid:"...",slug:"funerales",name:"Funerales",value:"funerales"},{uuid:"...",slug:"centros-de-mesa",name:"Centros de Mesa",value:"centros_de_mesa"},{uuid:"...",slug:"tarjetas-personalizadas",name:"Tarjetas Personalizadas",value:"tarjetas_personalizadas"},{uuid:"...",slug:"regalos-personalizados",name:"Regalos Personalizados",value:"regalos_personalizados"},{uuid:"...",slug:"rosas-eternas",name:"Rosas Eternas",value:"rosas_eternas"},{uuid:"...",slug:"ambientadores",name:"Ambientadores",value:"ambientadores"}];var K=[{uuid:"f8ae1010-a49c-4386-b140-2a09fd1c8d88",slug:"flower-rosas",name:"Rosas",value:"rosas",type:"flower",description:"Flor cl\xE1sica ideal para aniversarios y ocasiones rom\xE1nticas."},{uuid:"e9132bfa-61bb-4e6f-a733-bb2e92505349",slug:"flower-orquideas",name:"Orqu\xEDdeas",value:"orquideas",type:"flower",description:"Elegantes y ex\xF3ticas, perfectas para regalos especiales."},{uuid:"3765db44-1126-4656-88d9-99ee2d0032d5",slug:"flower-margaritas",name:"Margaritas",value:"margaritas",type:"flower",description:"Simples y alegres, ideales para decorar y regalar."},{uuid:"b78a1a11-2bc7-47cc-b630-080ecfb77aa6",slug:"flower-tulipanes",name:"Tulipanes",value:"tulipanes",type:"flower",description:"Flor elegante de m\xFAltiples colores, s\xEDmbolo de amor sincero."},{uuid:"4dd30a08-e8b8-4d98-9e14-938dce9a3832",slug:"flower-lirios",name:"Lirios",value:"lirios",type:"flower",description:"Flor majestuosa, s\xEDmbolo de pureza y respeto."},{uuid:"55f16a35-4e48-4015-8d7c-0cc10b7f3e3a",slug:"flower-claveles",name:"Claveles",value:"claveles",type:"flower",description:"Vers\xE1tiles y con buena duraci\xF3n, usadas en todo tipo de arreglos."},{uuid:"dc15f5b7-963d-419c-987d-0502b9cf3844",slug:"flower-gerberas",name:"Gerberas",value:"gerberas",type:"flower",description:"Flor viva y colorida, transmite alegr\xEDa y energ\xEDa."},{uuid:"b3a26134-009e-42db-bb45-f6977e5ae6d6",slug:"plant-suculentas",name:"Suculentas",value:"suculentas",type:"plant",description:"Peque\xF1as, resistentes y muy decorativas."},{uuid:"5bc7be8f-7dd7-4482-bb92-153314391c56",slug:"plant-cactus",name:"Cactus",value:"cactus",type:"plant",description:"Plantitas r\xFAsticas, ideales para interior o exterior."},{uuid:"02cf37e6-4407-4cc4-8f0d-8d5737813b19",slug:"plant-palmeras",name:"Palmeras",value:"palmeras",type:"plant",description:"Aporta un aire tropical a cualquier espacio."},{uuid:"ff897fd2-d422-4f71-8b19-0ebea1b729e7",slug:"plant-helechos",name:"Helechos",value:"helechos",type:"plant",description:"Ideales para sombra y decoraci\xF3n natural."},{uuid:"5eeb27b4-55c1-4d36-bd47-e4a1c22f5f4c",slug:"plant-bonsais",name:"Bons\xE1is",value:"bonsais",type:"plant",description:"Arte vivo en miniatura que aporta serenidad."},{uuid:"0c4db23e-89d3-41cd-b82e-e0034ed05018",slug:"plant-aloe-vera",name:"Aloe Vera",value:"aloe_vera",type:"plant",description:"Planta medicinal y decorativa, f\xE1cil de cuidar."},{uuid:"48223c5d-8f65-4f94-bca7-6462d8f61b72",slug:"extra-osito",name:"Osito",value:"osito",type:"extra",description:"Peluche tierno para acompa\xF1ar tus arreglos."},{uuid:"164e7da5-b4df-4f0c-9281-8c948401c3fc",slug:"extra-cinta",name:"Cinta",value:"cinta",type:"extra",description:"Cinta decorativa para arreglos y bouquets."},{uuid:"3a2096e2-e6ae-4a2c-87ef-e3d7632ecb02",slug:"extra-decoracion",name:"Decoraci\xF3n",value:"decoracion",type:"extra",description:"Elementos decorativos adicionales para personalizar."},{uuid:"1b2a4cbf-bd98-443e-988e-93f48fdc43d7",slug:"extra-colorido",name:"Colorido",value:"colorido",type:"extra",description:"Ideal para ramos alegres y juveniles."},{uuid:"25e278ed-5f6f-4c4a-a2f4-f30269bc9a25",slug:"extra-elegante",name:"Elegante",value:"elegante",type:"extra",description:"Toque refinado y cl\xE1sico para ocasiones formales."},{uuid:"90d60a1f-6e8c-4f6a-8f94-d8cf2bb62408",slug:"extra-personalizado",name:"Personalizado",value:"personalizado",type:"extra",description:"Opciones personalizadas seg\xFAn el gusto del cliente."}];var X=(o,u)=>({"bg-[#3a5a40]/20 text-[#3a5a40]":o,"hover:bg-[#3a5a40]/10":u});function st(o,u){if(o&1){let e=v();C(0),r(1,"button",17),p("click",function(){let i=f(e).$implicit,a=c();return _(a.filters.selectedCategory=a.filters.selectedCategory===i.uuid?null:i.uuid)}),l(2),n(),w()}if(o&2){let e=u.$implicit,t=c();s(),m("id","category-"+e.uuid)("ngClass",S(3,X,t.filters.selectedCategory===e.uuid,t.filters.selectedCategory!==e.uuid)),s(),P(" ",e.name," ")}}function ct(o,u){if(o&1){let e=v();C(0),r(1,"button",17),p("click",function(){let i=f(e).$implicit,a=c();return _(a.filters.selectedTag=a.filters.selectedTag===i.uuid?null:i.uuid)}),l(2),n(),w()}if(o&2){let e=u.$implicit,t=c();s(),m("id","tag-"+e.uuid)("ngClass",S(3,X,t.filters.selectedTag===e.uuid,t.filters.selectedTag!==e.uuid)),s(),P(" ",e.name," ")}}var Ye=(()=>{class o{constructor(e,t){this.dialogRef=e,this.data=t,this.categories=Y,this.tags=K,this.filters={selectedCategory:null,selectedTag:null,minPrice:null,maxPrice:null,active:null},t.filters&&(this.filters=N({},t.filters))}applyFilters(){this.dialogRef.close(this.filters)}clearFilters(){this.filters={selectedCategory:null,selectedTag:null,minPrice:null,maxPrice:null,active:null}}close(){this.dialogRef.close()}static{this.\u0275fac=function(t){return new(t||o)(b(G),b(B))}}static{this.\u0275cmp=T({type:o,selectors:[["app-filter-dialog"]],standalone:!0,features:[k],decls:37,vars:12,consts:[[1,"p-6"],[1,"text-2xl","font-semibold","text-[#3a5a40]","mb-4"],[1,"space-y-6"],[1,"text-lg","font-semibold","mb-2"],[1,"flex","flex-wrap","gap-2"],[4,"ngFor","ngForOf"],[1,"flex","items-center","gap-2"],["type","number","id","min-price","placeholder","M\xEDnimo",1,"w-24","p-2","border","border-[#3a5a40]/50","rounded-[4px]","focus:outline-none","focus:ring-2","focus:ring-[#3a5a40]/20",3,"ngModelChange","ngModel"],[1,"text-[#3a5a40]"],["type","number","id","max-price","placeholder","M\xE1ximo",1,"w-24","p-2","border","border-[#3a5a40]/50","rounded-[4px]","focus:outline-none","focus:ring-2","focus:ring-[#3a5a40]/20",3,"ngModelChange","ngModel"],[1,"flex","gap-4"],["type","button","id","active-state",1,"px-3","py-1","rounded-[4px]","border","border-[#3a5a40]/50","transition",3,"click","ngClass"],["type","button","id","inactive-state",1,"px-3","py-1","rounded-[4px]","border","border-[#3a5a40]/50","transition",3,"click","ngClass"],[1,"flex","justify-end","gap-2","mt-6"],["mat-button","","id","clear-filters",1,"text-[#3a5a40]",3,"click"],["mat-button","","id","cancel-filters",1,"text-[#3a5a40]",3,"click"],["mat-button","","id","apply-filters",1,"bg-[#3a5a40]/80","text-white",3,"click"],["type","button",1,"px-3","py-1","rounded-[4px]","border","border-[#3a5a40]/50","transition",3,"click","id","ngClass"]],template:function(t,i){t&1&&(r(0,"div",0)(1,"h2",1),l(2,"Filtrar Productos"),n(),r(3,"div",2)(4,"div")(5,"h3",3),l(6,"Categor\xEDas"),n(),r(7,"div",4),x(8,st,3,6,"ng-container",5),n()(),r(9,"div")(10,"h3",3),l(11,"Etiquetas"),n(),r(12,"div",4),x(13,ct,3,6,"ng-container",5),n()(),r(14,"div")(15,"h3",3),l(16,"Precio"),n(),r(17,"div",6)(18,"input",7),ne("ngModelChange",function(g){return ie(i.filters.minPrice,g)||(i.filters.minPrice=g),g}),n(),r(19,"span",8),l(20,"-"),n(),r(21,"input",9),ne("ngModelChange",function(g){return ie(i.filters.maxPrice,g)||(i.filters.maxPrice=g),g}),n()()(),r(22,"div")(23,"h3",3),l(24,"Estado"),n(),r(25,"div",10)(26,"button",11),p("click",function(){return i.filters.active=i.filters.active===!0?null:!0}),l(27," Activo "),n(),r(28,"button",12),p("click",function(){return i.filters.active=i.filters.active===!1?null:!1}),l(29," Inactivo "),n()()()(),r(30,"div",13)(31,"button",14),p("click",function(){return i.clearFilters()}),l(32," Limpiar "),n(),r(33,"button",15),p("click",function(){return i.close()}),l(34," Cancelar "),n(),r(35,"button",16),p("click",function(){return i.applyFilters()}),l(36," Aplicar "),n()()()),t&2&&(s(8),m("ngForOf",i.categories),s(5),m("ngForOf",i.tags),s(5),te("ngModel",i.filters.minPrice),s(3),te("ngModel",i.filters.maxPrice),s(5),m("ngClass",S(6,X,i.filters.active===!0,i.filters.active!==!0)),s(2),m("ngClass",S(9,X,i.filters.active===!1,i.filters.active!==!1)))},dependencies:[I,_e,O,U,R,L,z,Ee,V,De,we,ye,M],encapsulation:2})}}return o})();var dt=(o,u)=>({$implicit:o,index:u});function ut(o,u){if(o&1){let e=v();r(0,"div",26)(1,"span",28),l(2),n(),r(3,"button",29),p("click",function(){f(e);let i=c(2);return _(i.removeCategoryFilter())}),d(4,"lucide-icon",30),n()()}if(o&2){let e=c(2);s(2),P(" Categor\xEDa: ",e.getCategoryName(e.currentFilters.selectedCategory)," ")}}function mt(o,u){if(o&1){let e=v();r(0,"div",26)(1,"span",28),l(2),n(),r(3,"button",29),p("click",function(){f(e);let i=c(2);return _(i.removeTagFilter())}),d(4,"lucide-icon",30),n()()}if(o&2){let e=c(2);s(2),P(" Etiqueta: ",e.getTagName(e.currentFilters.selectedTag)," ")}}function pt(o,u){if(o&1){let e=v();r(0,"div",26)(1,"span",28),l(2),n(),r(3,"button",29),p("click",function(){f(e);let i=c(2);return _(i.removePriceFilter())}),d(4,"lucide-icon",30),n()()}if(o&2){let e=c(2);s(2),ee(" Precio: ",e.currentFilters.minPrice||"0"," - ",e.currentFilters.maxPrice||"\u221E"," ")}}function gt(o,u){if(o&1){let e=v();r(0,"div",26)(1,"span",28),l(2),n(),r(3,"button",29),p("click",function(){f(e);let i=c(2);return _(i.removeActiveFilter())}),d(4,"lucide-icon",30),n()()}if(o&2){let e=c(2);s(2),P(" Estado: ",e.currentFilters.active?"Activo":"Inactivo"," ")}}function ft(o,u){if(o&1){let e=v();r(0,"div",15)(1,"span",25),l(2,"Filtros activos:"),n(),x(3,ut,5,1,"div",26)(4,mt,5,1,"div",26)(5,pt,5,2,"div",26)(6,gt,5,1,"div",26),r(7,"button",27),p("click",function(){f(e);let i=c();return _(i.clearFilters())}),l(8," Limpiar todos "),n()()}if(o&2){let e=c();s(3),F(3,e.currentFilters.selectedCategory?3:-1),s(),F(4,e.currentFilters.selectedTag?4:-1),s(),F(5,e.currentFilters.minPrice||e.currentFilters.maxPrice?5:-1),s(),F(6,e.currentFilters.active!==null?6:-1)}}function _t(o,u){if(o&1&&d(0,"img",49),o&2){let e,t=c().$implicit;m("alt","Product thumbnail image")("src",(e=t.images[0]==null?null:t.images[0].url)!==null&&e!==void 0?e:"",A)}}function xt(o,u){o&1&&(r(0,"div",50),d(1,"lucide-icon",51),n())}function ht(o,u){o&1&&(r(0,"div",52),d(1,"div",53),n())}function vt(o,u){o&1&&(r(0,"div",54),d(1,"div",55),n())}function bt(o,u){o&1&&(r(0,"div",56),d(1,"div",57),n())}function Pt(o,u){o&1&&(C(0),d(1,"lucide-icon",58),w())}function yt(o,u){o&1&&d(0,"lucide-icon",59)}function Ct(o,u){o&1&&de(0)}function wt(o,u){if(o&1&&(r(0,"div",17),x(1,Ct,1,0,"ng-container",60),n()),o&2){let e=c(),t=e.$implicit,i=e.index;c(3);let a=E(35);s(),m("ngTemplateOutlet",a)("ngTemplateOutletContext",S(2,dt,t,i))}}function Ft(o,u){if(o&1){let e=v();C(0),r(1,"div",33)(2,"div",34)(3,"div",35),x(4,_t,1,2,"img",36)(5,xt,2,0,"div",37),n()(),r(6,"div",38),l(7),n(),r(8,"div",39),l(9),n(),r(10,"div",23),l(11),re(12,"currency"),n(),r(13,"div",40)(14,"div",41),l(15),n(),x(16,ht,2,0,"div",42)(17,vt,2,0,"div",43)(18,bt,2,0,"div",44),n(),r(19,"div",45),x(20,Pt,2,0,"ng-container",31)(21,yt,1,0,"ng-template",null,2,j),n(),r(23,"div")(24,"button",46),p("click",function(){let i=f(e).$implicit,a=c(3);return _(a.toggleDetails(i.id))}),d(25,"lucide-icon",47),n()()(),x(26,wt,2,5,"div",48),w()}if(o&2){let e,t=u.$implicit,i=E(22),a=c(3);s(4),m("ngIf",((e=t.images==null?null:t.images.length)!==null&&e!==void 0?e:0)>0),s(),m("ngIf",!(t.images!=null&&t.images.length)),s(2),P(" ",t.sku," "),s(2),P(" ",t.name," "),s(2),P(" ",fe(12,13,t.price,"ARS","symbol","1.2-2")," "),s(4),Z(t.stock),s(),m("ngIf",t.stock<20),s(),m("ngIf",t.stock>=20&&t.stock<30),s(),m("ngIf",t.stock>=30),s(2),m("ngIf",t.active)("ngIfElse",i),s(5),m("name",(a.selectedProduct==null?null:a.selectedProduct.id)===t.id?"chevron-up":"chevron-down"),s(),m("ngIf",(a.selectedProduct==null?null:a.selectedProduct.id)===t.id)}}function Et(o,u){if(o&1&&(C(0),x(1,Ft,27,18,"ng-container",32),w()),o&2){let e=c().ngIf,t=c();s(),m("ngForOf",e)("ngForTrackBy",t.trackByFn)}}function St(o,u){if(o&1&&(C(0),x(1,Et,2,2,"ng-container",31),w()),o&2){let e=u.ngIf;c();let t=E(33);s(),m("ngIf",e.length>0)("ngIfElse",t)}}function Tt(o,u){o&1&&(r(0,"div",61),l(1," There are no products! "),n())}function kt(o,u){if(o&1&&(C(0),d(1,"img",117),w()),o&2){let e,t=c(2);s(),m("src",(e=t.selectedProductForm.get("images"))==null?null:e.value[(e=t.selectedProductForm.get("currentImageIndex"))==null?null:e.value].url,A)}}function It(o,u){o&1&&(r(0,"div",118),d(1,"lucide-icon",119),r(2,"p",120),l(3," \xA1Agrega una imagen para destacar tu producto! "),n()())}function Vt(o,u){if(o&1){let e=v();r(0,"div",121)(1,"button",122),p("click",function(){f(e);let i=c(2);return _(i.cycleImages(!1))}),d(2,"lucide-icon",123),n(),r(3,"span",124),l(4),n(),r(5,"button",122),p("click",function(){f(e);let i=c(2);return _(i.cycleImages(!0))}),d(6,"lucide-icon",125),n()()}if(o&2){let e,t=c(2);s(4),ee(" ",(((e=t.selectedProductForm.get("currentImageIndex"))==null?null:e.value)||0)+1," of ",((e=t.selectedProductForm.get("images"))==null||e.value==null?null:e.value.length)||0," ")}}function Mt(o,u){if(o&1){let e=v();C(0),r(1,"div",126)(2,"span",127),l(3),n(),r(4,"button",128),p("click",function(){let i=f(e).$implicit,a=c(2);return _(a.removeTag(i))}),d(5,"lucide-icon",30),n()(),w()}if(o&2){let e=u.$implicit;s(3),Z(e.name)}}function At(o,u){o&1&&d(0,"app-loader",129),o&2&&m("size","15px")}function Dt(o,u){if(o&1&&l(0),o&2){let e=c().index,t=c();P(" ",e===0&&t.isNewProduct?"Crear":"Actualizar"," ")}}function jt(o,u){if(o&1){let e=v();r(0,"div",62)(1,"form",63)(2,"div",64)(3,"div",65)(4,"div",66)(5,"div",67),x(6,kt,2,1,"ng-container",31)(7,It,4,0,"ng-template",null,3,j),r(9,"input",68,4),p("change",function(i){f(e);let a=c();return _(a.onImageUpload(i))}),n(),r(11,"div",69),p("click",function(){let i=f(e).$implicit,a=c();return _(a.openImageEditor(i))}),d(12,"lucide-icon",70),n()(),x(13,Vt,7,2,"div",71),r(14,"button",72),p("click",function(){f(e);let i=E(10);return _(i.click())}),l(15," Agregar "),d(16,"lucide-icon",73),n()(),r(17,"div",74)(18,"span",75),l(19,"Visible en tienda"),n(),r(20,"mat-slide-toggle",76),p("change",function(i){f(e);let a=c();return _(a.onToggleActive(i))}),l(21),n()()(),r(22,"div",77)(23,"div",78)(24,"div",79)(25,"label",80),l(26,"Nombre"),n(),d(27,"input",81),n(),r(28,"div",82)(29,"div",83)(30,"label",84),l(31,"SKU"),n(),d(32,"input",85),n(),r(33,"div",83)(34,"label",86),l(35,"C\xF3digo de barras"),n(),d(36,"input",87),n()(),r(37,"div",82)(38,"div",88)(39,"label",89),l(40,"Categor\xEDa"),n(),r(41,"app-custom-select",90),p("selectionChange",function(i){let a;f(e);let g=c();return _((a=g.selectedProductForm.get("category"))==null?null:a.setValue(i.id))}),n()()(),r(42,"div",91)(43,"div",79)(44,"label",92),l(45,"Etiquetas"),n(),r(46,"app-custom-select",93),p("selectionChange",function(i){f(e);let a=c();return _(a.onTagSelectionChange(i))})("close",function(){f(e);let i=c();return _(i.showTagSelector=!1)}),n()(),r(47,"div",94),x(48,Mt,6,1,"ng-container",32),n()(),r(49,"div",79)(50,"label",95),l(51,"Descripci\xF3n"),n(),d(52,"textarea",96),n()(),r(53,"div",97)(54,"div",98)(55,"div",83)(56,"label",99),l(57,"Stock"),n(),d(58,"input",100),n(),r(59,"div",83)(60,"label",101),l(61,"Compra M\xE1xima"),n(),d(62,"input",102),n()()(),r(63,"div",97)(64,"div",79)(65,"label",103),l(66,"Costo"),n(),r(67,"div",104)(68,"span",105),l(69,"$"),n(),d(70,"input",106),n()(),r(71,"div",79)(72,"label",107),l(73,"Precio base"),n(),r(74,"div",104)(75,"span",105),l(76,"$"),n(),d(77,"input",108),n()(),r(78,"div",79)(79,"label",109),l(80,"Impuesto"),n(),r(81,"div",104),d(82,"input",110),r(83,"span",111),l(84,"%"),n()()(),r(85,"div",79)(86,"label",112),l(87,"Precio"),n(),r(88,"div",104),d(89,"input",113),r(90,"span",111),l(91,"$"),n()()()()()(),r(92,"div",114)(93,"button",115),p("click",function(){f(e);let i=c();return _(i.deleteSelectedProduct())}),l(94," Eliminar "),n(),r(95,"div",34)(96,"button",116),p("click",function(){let i=f(e).index,a=c();return _(i===0&&a.isNewProduct?a.saveProduct():a.updateSelectedProduct())}),x(97,At,1,1,"app-loader")(98,Dt,1,1),n()()()()()}if(o&2){let e,t,i,a,g=E(8),h=c();s(),m("formGroup",h.selectedProductForm),s(5),m("ngIf",(e=h.selectedProductForm.get("images"))==null||e.value==null?null:e.value.length)("ngIfElse",g),s(7),m("ngIf",(t=h.selectedProductForm.get("images"))==null||t.value==null?null:t.value.length),s(8),P(" ",(i=h.selectedProductForm.get("active"))!=null&&i.value?"Habilitado":"Deshabilitado"," "),s(20),m("options",h.categoriesOptions),s(5),m("options",h.tagsOptions),s(2),m("ngForOf",(a=h.selectedProductForm.get("tags"))==null?null:a.value)("ngForTrackBy",h.trackByFn),s(48),m("disabled",h.isLoading),s(),F(97,h.isLoading?97:98)}}var Ti=(()=>{class o{constructor(e,t,i,a,g,h){this._fb=e,this._dialog=t,this._productsService=i,this.store=a,this._tokenService=g,this._messageService=h,this._adminHeaderStore=ae($e),this.adminHeaderStore$=this._adminHeaderStore.getHeaderTitle(),this.totalProducts=0,this.totalSold=0,this.outOfStock=0,this.lowStock=0,this.productsOne=D([]),this.products=[],this.filteredProducts=[...this.products],this.selectedCategory="",this.minPrice=0,this.maxPrice=0,this.flashMessage=null,this.selectedProduct=null,this.filteredTags=[],this.tagsEditMode=!1,this.categories=[],this.tags=[],this.vendors=[],this.selectedFiles=[],this.imagePreviews=[],this.pagination={length:0,page:0,size:10},this.isLoading=!1,this.isNewProduct=!1,this.currentFilters={selectedCategory:null,selectedTag:null,minPrice:null,maxPrice:null,active:null},this.selectedTags=[],this.showTagSelector=!1,this.selectedProductForm=this._fb.group({name:[""],images:[[]],currentImageIndex:[0],active:[!1],sku:[""],barcode:[""],category:[""],type:[""],vendor:[""],stock:[""],maxPurchasePerUser:[""],description:[""],cost:[""],basePrice:[""],taxPercent:[""],price:[""],weight:[""],tags:[[]]})}ngOnInit(){this._adminHeaderStore.updateHeaderTitle("Productos"),this.calculateStatistics(),this.getProducts(),this.loadSelectOptions(),this.selectedProductForm.get("basePrice")?.valueChanges.subscribe(()=>{this.calculatePrice()}),this.selectedProductForm.get("taxPercent")?.valueChanges.subscribe(()=>{this.calculatePrice()})}calculatePrice(){let e=parseFloat(this.selectedProductForm.get("basePrice")?.value)||0,t=parseFloat(this.selectedProductForm.get("taxPercent")?.value)||0,i=e+e*t/100;this.selectedProductForm.patchValue({price:i.toFixed(2)},{emitEvent:!1})}get products$(){return oe(this.filteredProducts)}get categoriesOptions(){return this.categories.map(e=>({id:e.id,text:e.name}))}get tagsOptions(){return this.tags.map(e=>N({id:e.uuid,text:e.name},e))}get vendorsOptions(){return this.vendors.map(e=>({id:e.id,text:e.name}))}loadSelectOptions(){this.categories=Y,this.tags=K,this.vendors=[{id:"vendor1",name:"Proveedor X"},{id:"vendor2",name:"Proveedor Y"},{id:"vendor3",name:"Proveedor Z"}]}onTagSelectionChange(e){let t=this.selectedProductForm.value.tags||[],i=this.selectedTags.some(y=>y.uuid===e.uuid),a=t.some(y=>y.uuid===e.uuid);!i&&!a&&this.selectedTags.push(e);let g=new Map;t.forEach(y=>g.set(y.uuid,y)),this.selectedTags.forEach(y=>g.set(y.uuid,y));let h=Array.from(g.values());this.selectedProductForm.patchValue({tags:h}),this.showTagSelector=!1}onToggleActive(e){let t=e.checked;this.selectedProductForm.patchValue({active:t})}removeTag(e){this.selectedTags=this.selectedTags.filter(a=>a.uuid!==e.uuid);let i=(this.selectedProductForm.value.tags||[]).filter(a=>a.uuid!==e.uuid);this.selectedProductForm.patchValue({tags:i})}calculateStatistics(){this.totalProducts=this.products.length,this.totalSold=this.products.reduce((e,t)=>e+(t.sold||0),0),this.outOfStock=this.products.filter(e=>e.stock===0).length,this.lowStock=this.products.filter(e=>e.stock>0&&e.stock<5).length}onImageUpload(e){let t=e.target;t.files&&Array.from(t.files).forEach(a=>{let g=new FileReader;g.onload=()=>{let h={file:a,url:g.result};this.imagePreviews.push(g.result),this.selectedFiles.push({file:a,url:g.result}),this.selectedProductForm.patchValue({images:this.selectedFiles})},g.readAsDataURL(a)})}getProducts(){this._productsService.getAllProducts().subscribe({next:e=>{this.products=e.map(t=>({id:t.id.toString(),name:t.name,sku:t.sku,category:t.category,price:t.price,stock:t.stock,sold:t.sold,type:t.type,active:t.active||!1,thumbnail:t.thumbnail||"assets/default-thumbnail.png",description:t.description||"",maxPurchasePerUser:t.maxPurchasePerUser||0,cost:t.cost||0,basePrice:t.basePrice||0,taxPercent:t.taxPercent||0,weight:t.weight||0,images:t.images||[],tags:t?.tags||[]})),this.filteredProducts=[...this.products],this.productsOne.set(this.products),this.calculateStatistics()},error:e=>{console.error("Error fetching products:",e)}})}deleteProduct(e){this.products=this.products.filter(t=>t.id!==e.id),this.calculateStatistics(),this._productsService.deleteProduct(e.id).subscribe({next:t=>{this.products=this.products.filter(i=>i.id!==e.id),this.productsOne.set(this.products),this._messageService.showInfo("Producto eliminado correctamente","top right",5e3)},complete:()=>{console.log("Request completed")},error:t=>{console.error("Error deleting product:",t)}})}handleSearch(e){let t=e.trim().toLowerCase();this.filteredProducts=this.products.filter(i=>i.name.toLowerCase().includes(t)||i.category.toLowerCase().includes(t))}openImageEditor(e){this._dialog.open(Je,{data:{product:e}}).afterClosed().subscribe(i=>{i&&(this.selectedProductForm.patchValue({images:i,currentImageIndex:0}),this.selectedProduct&&(this.selectedProduct.images=i))})}toggleDetails(e){if(this.selectedProduct&&this.selectedProduct.id===e)this.selectedProduct=null;else{let t=this.products.find(i=>i.id===e)||null;this.selectedProduct=t,t&&this.selectedProductForm.patchValue({name:t.name,images:t.images||[],currentImageIndex:0,active:t.active,sku:t.sku,barcode:"",category:t.category,type:t.type,vendor:"",stock:t.stock,maxPurchasePerUser:t.maxPurchasePerUser||0,description:t.description,cost:t.cost,basePrice:t.basePrice,taxPercent:t.taxPercent,tags:t.tags,price:t.price,weight:t.weight})}}cycleImages(e=!0){let t=this.selectedProductForm.get("images")?.value;if(t&&t.length>0){let i=this.selectedProductForm.get("currentImageIndex")?.value,a=e?i+1:i-1;a>=t.length&&(a=0),a<0&&(a=t.length-1),this.selectedProductForm.get("currentImageIndex")?.setValue(a)}}toggleTagsEditMode(){this.tagsEditMode=!this.tagsEditMode}trackByFn(e,t){return t.id||e}createEmptyProduct(){if(this.products.some(t=>t.id==="")){this._messageService.showError("Ya tenes un producto pendiente de crear","top center",5e3,"aceptar");return}let e={id:"",name:"",sku:"",category:"",type:"",price:0,stock:0,sold:0,active:!1,thumbnail:"",images:[],tags:[]};this.isNewProduct=!0,this.products.unshift(e),this.filteredProducts=[...this.products],this.selectedProduct=e,this.selectedProductForm.patchValue({name:"",images:[],currentImageIndex:0,active:!1,sku:"",barcode:"",category:"",type:"",vendor:"",stock:0,maxPurchasePerUser:0,description:"",cost:0,basePrice:0,taxPercent:0,price:0,weight:0})}buildFormData(e,t=new FormData,i=""){if(e&&typeof e=="object"&&!(e instanceof Date)&&!(e instanceof File))Object.keys(e).forEach(a=>{this.buildFormData(e[a],t,i?`${i}[${a}]`:a)});else{let a=e??"";t.append(i,a)}return t}saveProduct(){if(this.selectedProductForm.invalid){this._messageService.showError("Formulario no v\xE1lido","bottom right",5e3);return}let e=new FormData;e.append("name",this.selectedProductForm.get("name")?.value),e.append("category",this.selectedProductForm.get("category")?.value),e.append("price",this.selectedProductForm.get("price")?.value),e.append("stock",this.selectedProductForm.get("stock")?.value),e.append("maxPurchasePerUser",this.selectedProductForm.get("maxPurchasePerUser")?.value),e.append("description",this.selectedProductForm.get("description")?.value),e.append("type",this.selectedProductForm.get("type")?.value),e.append("taxPercent",this.selectedProductForm.get("taxPercent")?.value),e.append("basePrice",this.selectedProductForm.get("basePrice")?.value),e.append("cost",this.selectedProductForm.get("cost")?.value);let t=this.selectedProductForm.get("tags")?.value;e.append("tags",JSON.stringify(t)),(this.selectedProductForm.get("images")?.value).forEach(a=>{e.append("files",a.file)}),this._productsService.createProduct(e).subscribe({next:a=>{this._messageService.showInfo("Producto creado exitosamente","bottom right",5e3),this.selectedFiles=[],this.selectedProductForm.reset(),this.selectedProductForm.markAsPristine(),this.selectedProductForm.markAsUntouched(),this.getProducts()},error:a=>{this._messageService.showError("Error al crear producto","bottom right",5e3)}})}updateSelectedProduct(){if(this.selectedProductForm.invalid||!this.selectedProduct){this._messageService.showError("Formulario no v\xE1lido","bottom right",5e3);return}this.isLoading=!0;let e=new FormData;e.append("id",this.selectedProduct.id),e.append("name",this.selectedProductForm.get("name")?.value),e.append("category",this.selectedProductForm.get("category")?.value),e.append("price",this.selectedProductForm.get("price")?.value),e.append("stock",this.selectedProductForm.get("stock")?.value),e.append("maxPurchasePerUser",this.selectedProductForm.get("maxPurchasePerUser")?.value),e.append("description",this.selectedProductForm.get("description")?.value),e.append("type",this.selectedProductForm.get("type")?.value),e.append("active",this.selectedProductForm.get("active")?.value),e.append("taxPercent",this.selectedProductForm.get("taxPercent")?.value),e.append("basePrice",this.selectedProductForm.get("basePrice")?.value),e.append("cost",this.selectedProductForm.get("cost")?.value);let t=this.selectedProductForm.get("tags")?.value;e.append("tags",JSON.stringify(t)),(this.selectedProductForm.get("images")?.value).forEach(a=>{e.append("files",a.file)}),this._productsService.updateProduct(this.selectedProduct.id,e).subscribe({next:a=>{this._messageService.showInfo("Producto actualizado exitosamente","bottom right",5e3),this.selectedProduct&&(this.selectedProduct.active=this.selectedProductForm.get("active")?.value),this.getProducts(),this.isLoading=!1},error:a=>{this._messageService.showError("Error al actualizar producto","bottom right",5e3),this.isLoading=!1}})}cancelNewProduct(){this.isNewProduct&&this.selectedProduct&&(this.products=this.products.filter(e=>e!==this.selectedProduct),this.filteredProducts=[...this.products],this.selectedProduct=null,this.isNewProduct=!1,this.selectedProductForm.reset())}deleteSelectedProduct(){if(this.selectedProduct){if(this.selectedProduct.active){this._messageService.showError("No se puede eliminar un producto activo. Desact\xEDvelo primero.","top center",5e3);return}this._productsService.deleteProduct(this.selectedProduct?.id).subscribe({next:e=>{this._messageService.showInfo("Producto eliminado correctamente","top center",5e3),this.selectedProduct=null,this.getProducts()},error:e=>{this._messageService.showError("Error al eliminar producto","bottom right",5e3)}})}}openFilterDialog(){this._dialog.open(Ye,{width:"600px",data:{filters:this.currentFilters}}).afterClosed().subscribe(t=>{t&&(this.currentFilters=t,this.applyFilters())})}applyFilters(){this.filteredProducts=this.products.filter(e=>!(this.currentFilters.selectedCategory&&e.category!==this.currentFilters.selectedCategory||this.currentFilters.selectedTag&&!e.tags?.some(t=>t?.uuid===this.currentFilters.selectedTag)||this.currentFilters.minPrice&&e.price<this.currentFilters.minPrice||this.currentFilters.maxPrice&&e.price>this.currentFilters.maxPrice||this.currentFilters.active!==null&&e.active!==this.currentFilters.active))}clearFilters(){this.currentFilters={selectedCategory:null,selectedTag:null,minPrice:null,maxPrice:null,active:null},this.filteredProducts=[...this.products]}getCategoryName(e){return e&&this.categories.find(i=>i.uuid===e)?.name||""}getTagName(e){return e&&this.tags.find(i=>i.uuid===e)?.name||""}removeCategoryFilter(){this.currentFilters.selectedCategory=null,this.applyFilters()}removeTagFilter(){this.currentFilters.selectedTag=null,this.applyFilters()}removePriceFilter(){this.currentFilters.minPrice=null,this.currentFilters.maxPrice=null,this.applyFilters()}removeActiveFilter(){this.currentFilters.active=null,this.applyFilters()}static{this.\u0275fac=function(t){return new(t||o)(b(Ie),b(Ae),b(Q),b(Le),b(Ue),b(W))}}static{this.\u0275cmp=T({type:o,selectors:[["app-products"]],viewQuery:function(t,i){if(t&1&&ue(ze,5),t&2){let a;me(a=pe())&&(i.paginator=a.first)}},standalone:!0,features:[k],decls:36,vars:10,consts:[["noProducts",""],["rowDetailsTemplate",""],["notActive",""],["noImage",""],["fileInput",""],[1,"min-h-full"],[1,"flex","flex-col","lg:flex-row","justify-between","items-center","mb-4","gap-4"],[1,"text-3xl","mb-6","text-[#3a5a40]","font-playfair","text-start","w-full"],[1,"w-full","flex","flex-col","lg:flex-row","justify-end","items-center","gap-4"],[1,"w-full","max-w-[200px]","flex-1","lg:w-max","px-4","py-2","bg-[#3a5a40]/80","text-white","rounded-[4px]","shadow","hover:bg-[#3a5a40]/90","focus:outline-none","transition","flex","items-center","justify-center","gap-2",3,"click"],["name","plus",1,"w-5","h-5"],[1,"flex","flex-col","lg:flex-row","items-center","justify-end","gap-4","mb-4"],[1,"w-full","lg:w-[400px]",3,"search","inputPlaceholder"],["disabled","",1,"w-full","max-w-[120px]","flex-1","lg:w-max","px-4","py-2","bg-[#3a5a40]/80","text-white","rounded-[4px]","shadow","hover:bg-[#3a5a40]/90","disabled:opacity-30","disabled:cursor-not-allowed","focus:outline-none","transition","flex","items-center","justify-center","gap-2",3,"click"],["name","ListFilterPlus",1,"w-5","h-5"],[1,"flex","flex-wrap","items-center","gap-2","mb-4"],[1,"overflow-x-auto"],[1,"grid"],["matSort","","matSortDisableClear","",1,"inventory-grid","z-10","sticky","top-0","grid","gap-4","py-4","px-6","md:px-4","shadow","text-md","text-white","bg-gray-50/20","dark:bg-[#3a5a40]/75"],[1,"hidden","md:block",3,"mat-sort-header"],[3,"mat-sort-header"],[1,"hidden","sm:block",3,"mat-sort-header"],[1,"hidden","lg:block",3,"mat-sort-header"],[1,"hidden","sm:block"],[4,"ngIf"],[1,"text-sm","text-gray-600"],[1,"flex","items-center","gap-1","bg-[#3a5a40]/10","px-2","py-1","rounded-[4px]"],[1,"text-sm","text-[#3a5a40]","hover:underline",3,"click"],[1,"text-sm","text-[#3a5a40]"],[1,"text-[#3a5a40]","hover:text-[#3a5a40]/80",3,"click"],["name","x",1,"w-4","h-4"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"inventory-grid","grid","items-center","gap-4","py-3","px-6","md:px-4","border-b"],[1,"flex","items-center"],[1,"relative","flex","items-center","justify-center","w-12","h-12","rounded-[4px]","overflow-hidden","border"],["class","w-full h-full object-cover",3,"alt","src",4,"ngIf"],["class","flex items-center justify-center w-full h-full text-xs font-semibold uppercase",4,"ngIf"],[1,"hidden","md:block","truncate"],[1,"truncate"],[1,"hidden","lg:flex","items-center"],[1,"min-w-4"],["class","flex items-end ml-2 w-1 h-4 bg-red-200 rounded overflow-hidden",4,"ngIf"],["class","flex items-end ml-2 w-1 h-4 bg-orange-200 rounded overflow-hidden",4,"ngIf"],["class","flex items-end ml-2 w-1 h-4 bg-green-100 rounded overflow-hidden",4,"ngIf"],[1,"hidden","lg:block"],["mat-icon-button","",1,"min-w-10","min-h-7","h-7","px-2","leading-6",3,"click"],[1,"!text-[#3a5a40]",3,"name"],["class","grid",4,"ngIf"],[1,"w-full","h-full","object-cover",3,"alt","src"],[1,"flex","items-center","justify-center","w-full","h-full","text-xs","font-semibold","uppercase"],["name","image-plus",1,"w-6","h-6","text-[#3a5a40]/80"],[1,"flex","items-end","ml-2","w-1","h-4","bg-red-200","rounded","overflow-hidden"],[1,"flex","w-full","h-1/3","bg-red-600"],[1,"flex","items-end","ml-2","w-1","h-4","bg-orange-200","rounded","overflow-hidden"],[1,"flex","w-full","h-2/4","bg-orange-400"],[1,"flex","items-end","ml-2","w-1","h-4","bg-green-100","rounded","overflow-hidden"],[1,"flex","w-full","h-full","bg-green-400"],["name","check",1,"text-green-400","icon-size-5"],["name","x",1,"text-red-400","icon-size-5"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-8","sm:p-16","border-t","text-4xl","font-semibold","tracking-tight","text-center"],[1,"shadow-lg","overflow-hidden","mb-8"],[1,"flex","flex-col","w-full",3,"formGroup"],[1,"flex","flex-col","sm:flex-row","p-8"],[1,"flex","flex-col","items-center","sm:items-start","mb-8","sm:mb-0"],[1,"flex","flex-col","items-center","relative"],[1,"w-32","h-44","border","border-[#3a5a40]/50","rounded","overflow-hidden"],["matTooltip","clickear para Agregar Imagen","matTooltipClass","!text-[#3a5a40] !bg-[#3a5a40]/50","type","file","accept","image/*","multiple","",1,"absolute","inset-0","opacity-0","cursor-pointer",3,"change"],[1,"cursor-pointer","absolute","z-10","-top-2","-right-2","w-8","h-8","flex","items-center","justify-center","bg-[#3a5a40]/50","hover:shadow-white","hover:bg-[#3a5a40]/80","rounded-full",3,"click"],["name","pencil",1,"w-4","h-4","text-white"],["class","flex items-center mt-2 whitespace-nowrap z-10",4,"ngIf"],["type","button",1,"mt-4","px-4","py-2","bg-[#3a5a40]/80","text-white","rounded-[4px]","shadow","hover:bg-[#3a5a40]/90","focus:outline-none","transition","flex","items-center","justify-center","gap-2",3,"click"],["name","image-up"],[1,"flex","flex-col","mt-8"],[1,"font-semibold","mb-2"],["formControlName","active",1,"custom-slide-toggle",3,"change"],[1,"flex","flex-auto","flex-wrap"],[1,"flex","flex-col","w-full","lg:w-2/4","sm:pl-8"],[1,"mb-4"],["for","name",1,"block","text-sm","font-medium","text-gray-700"],["id","name","type","text","formControlName","name","placeholder","Name",1,"p-2","w-full","border","border-gray-300","rounded-[4px]","focus:outline-none","focus:ring-2","focus:ring-[#A2E100]/20"],[1,"flex","gap-4"],[1,"mb-4","flex-1"],["for","sku",1,"block","text-sm","font-medium","text-gray-700"],["id","sku","type","text","formControlName","sku","placeholder","SKU",1,"p-2","w-full","border","border-gray-300","rounded-[4px]","focus:outline-none","focus:ring-2","focus:ring-[#A2E100]/20"],["for","barcode",1,"block","text-sm","font-medium","text-gray-700"],["id","barcode","type","text","formControlName","barcode","placeholder","Barcode",1,"p-2","w-full","border","border-gray-300","rounded-[4px]","focus:outline-none","focus:ring-2","focus:ring-[#A2E100]/20"],[1,"mb-2","w-full"],["for","category",1,"block","text-sm","font-medium","text-gray-700"],["placeholder","agregar categor\xEDa",3,"selectionChange","options"],[1,"mb-2","flex-1"],[1,"block","text-sm","font-medium","text-gray-700"],["placeholder","agregar etiqueta",3,"selectionChange","close","options"],[1,"flex","flex-wrap","gap-2","mt-2"],["for","description",1,"block","text-sm","font-medium","text-gray-700"],["id","description","formControlName","description","placeholder","Descripci\xF3n",1,"p-2","w-full","border","border-gray-300","rounded-[4px]","focus:outline-none","focus:ring-2","focus:ring-[#A2E100]/20","resize-none","h-32"],[1,"flex","flex-col","w-full","lg:w-1/4","sm:pl-8"],[1,"flex","flex-col"],["for","stock",1,"block","text-sm","font-medium","text-gray-700"],["id","stock","type","number","formControlName","stock","placeholder","Stock",1,"p-2","w-full","border","border-gray-300","rounded-[4px]","focus:outline-none","focus:ring-2","focus:ring-[#A2E100]/20"],["for","maxPurchasePerUser",1,"block","text-sm","font-medium","text-gray-700"],["id","maxPurchasePerUser","type","number","formControlName","maxPurchasePerUser","placeholder","Compra M\xE1xima",1,"p-2","w-full","border","border-gray-300","rounded-[4px]","focus:outline-none","focus:ring-2","focus:ring-[#A2E100]/20"],["for","cost",1,"block","text-sm","font-medium","text-gray-700"],[1,"flex"],[1,"inline-flex","items-center","px-3","border","border-r-0","border-gray-300","rounded-l-[4px]","bg-gray-50"],["id","cost","type","text","formControlName","cost","placeholder","Cost",1,"p-2","w-full","border","border-gray-300","rounded-r-[4px]","focus:outline-none","focus:ring-2","focus:ring-[#A2E100]/20"],["for","basePrice",1,"block","text-sm","font-medium","text-gray-700"],["id","basePrice","type","text","formControlName","basePrice","placeholder","Base Price",1,"p-2","w-full","border","border-gray-300","rounded-r-[4px]","focus:outline-none","focus:ring-2","focus:ring-[#A2E100]/20"],["for","taxPercent",1,"block","text-sm","font-medium","text-gray-700"],["id","taxPercent","type","number","formControlName","taxPercent","placeholder","Tax",1,"p-2","w-full","border","border-gray-300","rounded-l-[4px]","focus:outline-none","focus:ring-2","focus:ring-[#A2E100]/20"],[1,"inline-flex","items-center","px-3","border","border-l-0","border-gray-300","rounded-r-[4px]","bg-gray-50"],["for","price",1,"block","text-sm","font-medium","text-gray-700"],["id","price","type","text","formControlName","price","placeholder","Price","readonly","",1,"p-2","w-full","border","border-gray-300","rounded-l-[4px]","focus:outline-none","focus:ring-2","focus:ring-[#A2E100]/20"],[1,"flex","items-center","justify-between","w-full","border-t","px-8","py-4"],["type","button",1,"px-4","py-2","bg-red-500/80","text-white","rounded-[4px]",3,"click"],["type","button",1,"min-w-[97px]","px-4","py-2","bg-[#3a5a40]/80","text-white","rounded-[4px]","shadow","hover:bg-[#3a5a40]/80","focus:outline-none","transition","flex","items-center","justify-center","disabled:bg-[#3a5a40]/40",3,"click","disabled"],[1,"w-full","h-full","object-cover",3,"src"],[1,"w-full","h-full","flex","flex-col","justify-center","items-center"],["name","image-up",1,"w-6","h-6","mb-4","text-[#3a5a40]"],[1,"text-[#3a5a40]","text-center"],[1,"flex","items-center","mt-2","whitespace-nowrap","z-10"],["type","button",1,"w-8","h-8","flex","items-center","justify-center","bg-[#3a5a40]/50","hover:shadow-white","hover:bg-[#3a5a40]/80","rounded-full",3,"click"],["name","chevron-left",1,"w-4","h-4","text-white"],[1,"font-sm","mx-2"],["name","chevron-right",1,"w-4","h-4","text-white"],[1,"flex","items-center","bg-[#3a5a40]/60","rounded-[4px]","px-2","py-1"],[1,"text-sm","text-white"],["type","button",1,"ml-2","text-red-500",3,"click"],[3,"size"]],template:function(t,i){if(t&1){let a=v();r(0,"div",5)(1,"div",6)(2,"h1",7),l(3," Productos "),n(),r(4,"div",8)(5,"button",9),p("click",function(){return f(a),_(i.createEmptyProduct())}),d(6,"lucide-icon",10),l(7," Agregar Producto "),n()()(),r(8,"div",11)(9,"app-search-moderno-reactive",12),p("search",function(h){return f(a),_(i.handleSearch(h))}),n(),r(10,"button",13),p("click",function(){return f(a),_(i.openFilterDialog())}),d(11,"lucide-icon",14),l(12," Filtros "),n()(),x(13,ft,9,4,"div",15),r(14,"div",16)(15,"div",17)(16,"div",18),d(17,"div"),r(18,"div",19),l(19,"SKU"),n(),r(20,"div",20),l(21,"Nombre"),n(),r(22,"div",21),l(23,"Precio"),n(),r(24,"div",22),l(25,"Stock"),n(),r(26,"div",22),l(27,"Activo"),n(),r(28,"div",23),l(29,"Detalles"),n()(),x(30,St,2,2,"ng-container",24),re(31,"async"),x(32,Tt,2,0,"ng-template",null,0,j),n()(),x(34,jt,99,11,"ng-template",null,1,j),n()}t&2&&(s(9),m("inputPlaceholder","Buscar por Direcci\xF3n o Nombre del destinatario"),s(4),F(13,i.currentFilters.selectedCategory||i.currentFilters.selectedTag||i.currentFilters.minPrice||i.currentFilters.maxPrice||i.currentFilters.active!==null?13:-1),s(5),m("mat-sort-header","sku"),s(2),m("mat-sort-header","name"),s(2),m("mat-sort-header","price"),s(2),m("mat-sort-header","stock"),s(2),m("mat-sort-header","active"),s(4),m("ngIf",ge(31,8,i.products$)))},dependencies:[I,O,xe,he,ve,be,$,Ce,Ve,Me,Re,q,M,H,V,Se,R,L,z,Fe,Te,ke,U,Pe,qe,Be,He,J],styles:["h1[_ngcontent-%COMP%]{margin:0}.inventory-grid[_ngcontent-%COMP%]{grid-template-columns:48px auto 40px}@media (min-width: 640px){.inventory-grid[_ngcontent-%COMP%]{grid-template-columns:48px auto 112px 72px}}@media (min-width: 768px){.inventory-grid[_ngcontent-%COMP%]{grid-template-columns:48px 112px auto 112px 72px}}@media (min-width: 1024px){.inventory-grid[_ngcontent-%COMP%]{grid-template-columns:48px 112px auto 112px 96px 96px 72px}}"],data:{animation:[Ge]}})}}return o})();export{Ti as default};
