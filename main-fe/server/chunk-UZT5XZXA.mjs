import './polyfills.server.mjs';
import{a as P}from"./chunk-NMHQX24D.mjs";import"./chunk-L3H3J3KU.mjs";import"./chunk-Y7SIVDIG.mjs";import{ia as y,ja as O,la as k}from"./chunk-5ITMT7SL.mjs";import"./chunk-3M2R4VPM.mjs";import{b,e as S}from"./chunk-D4P4B6JA.mjs";import"./chunk-5TOM3SNX.mjs";import{o as w,w as M}from"./chunk-DR63K3YT.mjs";import{Da as d,Ea as p,Hb as x,Jb as l,Tb as i,Ub as r,Vb as m,Zb as f,cc as g,ec as u,la as s,ob as c,oc as a,pc as v,sa as _,xc as C}from"./chunk-XTO3CEGG.mjs";import"./chunk-VVCT4QZE.mjs";function V(e,h){e&1&&(i(0,"div",3),m(1,"lucide-icon",4),i(2,"p",5),a(3,"Procesando autorizaci\xF3n de MercadoPago..."),r()())}function E(e,h){if(e&1){let t=f();i(0,"div",3),m(1,"lucide-icon",6),i(2,"p",7),a(3),r(),i(4,"button",8),g("click",function(){d(t);let n=u();return p(n.goBack())}),a(5," Volver a intentar "),r()()}if(e&2){let t=u();c(3),v(t.error)}}function I(e,h){if(e&1){let t=f();i(0,"div",3),m(1,"lucide-icon",9),i(2,"p",10),a(3,"Cuenta de MercadoPago integrada correctamente"),r(),i(4,"button",8),g("click",function(){d(t);let n=u();return p(n.goBack())}),a(5," Volver a Pagos "),r()()}}var N=(()=>{class e{constructor(){this._route=s(b),this._router=s(S),this._mercadoPagoService=s(P),this.isLoading=!0,this.error=null,this.success=!1}ngOnInit(){this._route.queryParams.subscribe(t=>{console.log(t)})}processOAuthCode(t,o){this._mercadoPagoService.processOAuthCode(t,o).subscribe({next:()=>{this.success=!0,this.isLoading=!1},error:n=>{this.error="Error al procesar la autorizaci\xF3n: "+n.message,this.isLoading=!1}})}goBack(){this._router.navigate(["/a/payments"])}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275cmp=_({type:e,selectors:[["app-mp-oauth"]],standalone:!0,features:[C],decls:5,vars:3,consts:[[1,"min-h-full","flex","flex-col","items-center","justify-center","p-4"],[1,"bg-white","shadow","rounded-[4px]","p-6","w-full","max-w-lg","text-center"],["class","mb-4",4,"ngIf"],[1,"mb-4"],["name","loader",1,"w-12","h-12","text-[#3a5a40]","animate-spin"],[1,"text-gray-600","mt-2"],["name","alert-circle",1,"w-12","h-12","text-red-500"],[1,"text-red-600","mt-2"],[1,"mt-4","px-4","py-2","bg-[#3a5a40]/80","text-white","rounded-[4px]","shadow","hover:bg-[#3a5a40]","focus:outline-none","transition",3,"click"],["name","check-circle",1,"w-12","h-12","text-green-500"],[1,"text-green-600","mt-2"]],template:function(o,n){o&1&&(i(0,"div",0)(1,"div",1),x(2,V,4,0,"div",2)(3,E,6,1,"div",2)(4,I,6,0,"div",2),r()()),o&2&&(c(2),l("ngIf",n.isLoading),c(),l("ngIf",n.error),c(),l("ngIf",n.success))},dependencies:[M,w,k,O,y],encapsulation:2})}}return e})();export{N as default};
