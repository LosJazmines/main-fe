import{la as E,u as I,w as D}from"./chunk-GX2JBJOU.js";import{l as y,m as k,u as V}from"./chunk-OE5DTYP4.js";import{Ac as x,Ha as C,Ia as O,Ja as _,Kb as p,Mb as d,Ob as u,Ta as v,Wb as l,Xb as s,Yb as w,ac as b,fc as r,hc as c,pb as S,rb as o,rc as m,tc as g,xa as h}from"./chunk-W7KOHNRA.js";function N(n,f){if(n&1){let e=b();l(0,"div",7),r("click",function(){let t=O(e).$implicit,a=c(2);return _(a.selectOption(t))}),m(1),s()}if(n&2){let e=f.$implicit,i=c(2);u("bg-gray-50",i.isSelected(e)),o(),g(" ",e.text," ")}}function M(n,f){if(n&1&&(l(0,"div",5),p(1,N,2,3,"div",6),s()),n&2){let e=c();o(),d("ngForOf",e.options)}}var q=(()=>{class n{constructor(){this.options=[],this.placeholder="Seleccionar",this.initialValue=[],this.selectionChange=new v,this.isOpen=!1,this.selectedOption=null}ngOnInit(){this.updateSelectedOption()}ngOnChanges(e){(e.initialValue||e.options)&&this.options?.length>0&&this.updateSelectedOption()}updateSelectedOption(){this.initialValue?.length>0&&this.options?.length>0&&(console.log("Updating selected option with initial value:",this.initialValue),console.log("Available options:",this.options),this.selectedOption=this.options.find(e=>{let i=[...e.id].sort(),t=[...this.initialValue].sort();return console.log("Comparing:",i,"with",t),JSON.stringify(i)===JSON.stringify(t)})||null,console.log("Selected option:",this.selectedOption))}isSelected(e){if(!this.selectedOption)return!1;let i=[...e.id].sort(),t=[...this.selectedOption.id].sort();return JSON.stringify(i)===JSON.stringify(t)}toggleDropdown(){this.isOpen=!this.isOpen}selectOption(e){this.selectedOption=e,this.selectionChange.emit(e),this.isOpen=!1}onDocumentClick(e){e.target.closest("app-custom-select")||(this.isOpen=!1)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=h({type:n,selectors:[["app-custom-select"]],hostBindings:function(i,t){i&1&&r("click",function(F){return t.onDocumentClick(F)},!1,S)},inputs:{options:"options",placeholder:"placeholder",initialValue:"initialValue"},outputs:{selectionChange:"selectionChange"},standalone:!0,features:[C,x],decls:6,vars:4,consts:[[1,"relative"],["type","button",1,"w-full","p-2","text-left","border","border-gray-300","rounded-[4px]","focus:outline-none","focus:ring-2","focus:ring-blue-200","flex","justify-between","items-center",3,"click"],[1,"truncate"],["name","chevron-down",1,"w-4","h-4","transition-transform"],["class","absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-[4px] shadow-lg max-h-60 overflow-auto",4,"ngIf"],[1,"absolute","z-10","w-full","mt-1","bg-white","border","border-gray-300","rounded-[4px]","shadow-lg","max-h-60","overflow-auto"],["class","p-2 hover:bg-gray-100 cursor-pointer",3,"bg-gray-50","click",4,"ngFor","ngForOf"],[1,"p-2","hover:bg-gray-100","cursor-pointer",3,"click"]],template:function(i,t){i&1&&(l(0,"div",0)(1,"button",1),r("click",function(){return t.toggleDropdown()}),l(2,"span",2),m(3),s(),w(4,"i-lucide",3),s(),p(5,M,2,1,"div",4),s()),i&2&&(o(3),g(" ",t.selectedOption?t.selectedOption.text:t.placeholder," "),o(),u("rotate-180",t.isOpen),o(),d("ngIf",t.isOpen))},dependencies:[V,y,k,D,I,E]})}}return n})();export{q as a};
