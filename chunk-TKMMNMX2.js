import{Db as b,Eb as v,Qa as I,a as o,b as d,bd as h,cd as j,ka as p,qa as k}from"./chunk-W7KOHNRA.js";var u=Symbol("STATE_SIGNAL");function E(e,...n){e[u].update(s=>n.reduce((t,c)=>o(o({},t),typeof c=="function"?c(t):c),s))}function D(e){let n=j(()=>e());return T(n)?new Proxy(e,{get(s,t){return t in n?(b(s[t])||Object.defineProperty(s,t,{value:h(()=>s()[t]),configurable:!0}),D(s[t])):s[t]}}):e}function T(e){return e?.constructor===Object}function G(...e){let n=[...e],s="providedIn"in n[0]?n.shift():{},t=n;return(()=>{class i{constructor(){let r=t.reduce((f,P)=>P(f),H()),{slices:l,signals:g,methods:A,hooks:K}=r,y=o(o(o({},l),g),A);this[u]=r[u];for(let f in y)this[f]=y[f];let{onInit:S,onDestroy:m}=K;S&&S(),m&&k(I).onDestroy(m)}static \u0275fac=function(l){return new(l||i)};static \u0275prov=p({token:i,factory:i.\u0275fac,providedIn:s.providedIn||null})}return i})()}function H(){return{[u]:v({}),slices:{},signals:{},methods:{},hooks:{}}}function a(e,n){return Object.keys(e).reduce((s,t)=>(n.includes(t)||(s[t]=e[t]),s),{})}function L(e){return n=>{let s=e(o(o(o({[u]:n[u]},n.slices),n.signals),n.methods)),t=Object.keys(s),c=a(n.slices,t),i=a(n.signals,t);return d(o({},n),{slices:c,signals:i,methods:o(o({},n.methods),s)})}}function N(e){return n=>{let s=typeof e=="function"?e():e,t=Object.keys(s);n[u].update(r=>o(o({},r),s));let c=t.reduce((r,l)=>{let g=h(()=>n[u]()[l]);return d(o({},r),{[l]:D(g)})},{}),i=a(n.signals,t),w=a(n.methods,t);return d(o({},n),{slices:o(o({},n.slices),c),signals:i,methods:w})}}export{E as a,G as b,L as c,N as d};
